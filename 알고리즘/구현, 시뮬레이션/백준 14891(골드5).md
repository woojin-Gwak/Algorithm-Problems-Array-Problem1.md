# [백준 14891번 - 톱니바퀴](https://www.acmicpc.net/problem/14891)
### **문제 설명**

4개의 톱니바퀴가 주어집니다. 각 톱니바퀴는 **8개의 톱니**로 구성되며, 각 톱니는 **N극(0)** 또는 **S극(1)** 중 하나입니다.

톱니바퀴를 회전시키는 조건은 다음과 같습니다:

1. 특정 톱니바퀴가 회전하면, 이웃한 톱니바퀴의 **극이 다를 경우 반대 방향**으로 회전합니다.
2. 회전 방향은 시계방향(1) 또는 반시계방향(-1)으로 지정됩니다.
3. 톱니바퀴의 상태가 주어졌을 때, 각 톱니바퀴의 최상단 톱니(12시 방향)의 값을 통해 점수를 계산합니다.

---

### **문제 접근**

1. **톱니바퀴의 상태와 극 확인**:
    - 톱니바퀴의 인덱스 2와 6번 위치가 각각 오른쪽 톱니와 왼쪽 톱니의 접점입니다.
    - 극이 다르면 회전합니다.
2. **회전 구현**:
    - 시계방향 회전: 마지막 요소를 앞으로 이동.
    - 반시계방향 회전: 첫 번째 요소를 뒤로 이동.
3. **회전 전파**:
    - 특정 톱니를 기준으로 왼쪽과 오른쪽으로 회전 전파를 확인합니다.
    - 전파 방향은 극의 차이에 따라 결정됩니다.
4. **점수 계산**:
    - 톱니바퀴의 최상단 톱니가 1일 경우 점수를 계산합니다.

---

### **입문자용 코드**

```python
python
코드 복사
# 톱니바퀴 회전 구현
def rotate(gear, direction):
    if direction == 1:  # 시계방향
        return gear[-1:] + gear[:-1]
    elif direction == -1:  # 반시계방향
        return gear[1:] + gear[:1]

# 톱니바퀴 상태 입력받기
gears = [list(input().strip()) for _ in range(4)]

# 회전 횟수 입력받기
k = int(input())
for _ in range(k):
    num, direction = map(int, input().split())
    num -= 1  # 인덱스 맞추기

    # 각 톱니바퀴의 회전 방향 저장
    directions = [0] * 4
    directions[num] = direction

    # 왼쪽 전파
    for i in range(num, 0, -1):
        if gears[i][6] != gears[i - 1][2]:
            directions[i - 1] = -directions[i]
        else:
            break

    # 오른쪽 전파
    for i in range(num, 3):
        if gears[i][2] != gears[i + 1][6]:
            directions[i + 1] = -directions[i]
        else:
            break

    # 각 톱니바퀴 회전
    for i in range(4):
        if directions[i] != 0:
            gears[i] = rotate(gears[i], directions[i])

# 점수 계산
score = 0
for i in range(4):
    if gears[i][0] == '1':  # 12시 방향이 '1'인 경우
        score += (1 << i)

print(score)

```

### **코드 설명**

1. **`rotate` 함수**:
    - 톱니바퀴를 시계방향(1) 또는 반시계방향(-1)으로 회전시키는 함수입니다.
    - **슬라이싱**을 이용해 간단히 구현됩니다.
2. **톱니바퀴 상태 입력**:
    - 4개의 톱니바퀴 상태를 입력받아 리스트로 저장합니다.
3. **회전 방향 계산**:
    - 특정 톱니바퀴의 회전을 기준으로 **왼쪽**과 **오른쪽**으로 전파 여부를 확인합니다.
    - 극이 다를 경우, 반대 방향으로 회전합니다.
4. **회전 실행**:
    - 각 톱니바퀴의 회전 방향에 따라 **`rotate`** 함수를 호출해 상태를 갱신합니다.
5. **점수 계산**:
    - 최상단 톱니(12시 방향)가 **`1`**이면 점수를 더합니다.
    - 점수는 **2의 제곱수(1, 2, 4, 8)**로 계산됩니다.

---

### **예제 입력 및 출력**

### **입력 예제**

```
plaintext
코드 복사
10101111
01111101
11001110
00000010
2
3 -1
1 1

```

### **출력 예제**

```
plaintext
코드 복사
7

```

---

### **입력 흐름 설명**

1. 톱니바퀴 초기 상태:
    
    ```yaml
    yaml
    코드 복사
    톱니바퀴 1: 10101111
    톱니바퀴 2: 01111101
    톱니바퀴 3: 11001110
    톱니바퀴 4: 00000010
    
    ```
    
2. 첫 번째 명령: 3번 톱니를 반시계(-1)로 회전.
    - 3번 톱니와 4번 톱니는 극이 다르므로 4번 톱니는 시계방향(1)으로 회전.
    - 3번 톱니와 2번 톱니는 극이 같으므로 전파되지 않음.
3. 두 번째 명령: 1번 톱니를 시계방향(1)으로 회전.
    - 1번 톱니와 2번 톱니는 극이 다르므로 2번 톱니는 반시계방향(-1)으로 회전.
    - 2번 톱니와 3번 톱니는 극이 다르므로 3번 톱니는 다시 시계방향(1)으로 회전.
    - 3번 톱니와 4번 톱니는 극이 같으므로 전파되지 않음.
